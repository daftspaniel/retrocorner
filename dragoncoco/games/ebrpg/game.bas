10 CLS:CLEAR1000:DIMB$(10):DIMA$(8):DIMH$(8):DIMT$(8):DIMG$(8)
20 GOSUB8000:REM SETUP GFX
30 GOSUB7000:REM TITLE SCREEN
40 GOSUB100:REM WAIT KEY
50 GOSUB2500:REM SET UP PLAYER
60 GOSUB1000:REM DUNGEON
70 GOSUB2000:REM STATUS
98 GOSUB100
99 END
100 W$=INKEY$:IFW$=""THEN100ELSERETURN

1000 REM DUNGEON
1010 CLS0:PX=0:PY=0:W$=""
1020 PRINT@384,TW$;:PRINT@0,LW$;
1030 FORR=2TO10STEP2:W$=""
1040 FORN=0TO31
1050 IFRND(2)=1THENW$=W$+WA$ELSEW$=W$+F$
1060 NEXTN
1070 PRINT@R*32,W$;
1080 PRINT@((R+1)*32)+RND(28),WA$;:PRINT@((R+1)*32)+RND(28),WA$;
1090 NEXTR
1100 GOSUB 100
1999 RETURN

2000 REM STATUS
2010 PRINT@416, CHR$(250)+"level:"+STR$(LE);
2020 PRINT@448, CHR$(250)+"hp   :"+STR$(HP)+"/"+STR$(MH);
2030 PRINT@480, CHR$(250)+"name : "+N$;
2200 RETURN

2500 N$="DAVY":HP=45:MH=50:LE=1
2999 RETURN

7000 REM TITLE
7010 PRINT@352,STRING$(32,156);
7020 PRINT@384,STRING$(32,204);
7030 PRINT@416,STRING$(32,220);
7040 PRINT@448,STRING$(32,252);
7050 PRINT@0,STRING$(32,172);
7060 FORI=1TO10:B$(I)=STRING$(I,CHR$(143)):P(I)=32+32*I:NEXT
7070 FORJ=2TO10:FORI=1TO8:?@P(I)+J,B$(J)+A$(I);:NEXT:SOUND190+J,1:NEXT
7080 FORI=1TO8:?@32+(I*32+4),H$(I);:NEXT
7090 FORI=1TO8:?@32+(I*32+14),T$(I);:PLAY"T255ABE":NEXT
7400 RETURN

8000 REM GFX
8010 H$(1)=STRING$(2,143)+STRING$(3,255)
8020 H$(2)=STRING$(2,143)+STRING$(1,255)+STRING$(2,239)
8030 H$(3)=STRING$(2,143)+STRING$(3,239)
8040 H$(4)=STRING$(1,143)+STRING$(5,175)
8050 H$(5)=STRING$(1,143)+STRING$(1,239)+STRING$(3,175)+STRING$(1,239)
8060 H$(6)=STRING$(1,143)+STRING$(1,239)+STRING$(3,175)+STRING$(1,239)
8070 H$(7)=STRING$(2,143)+STRING$(3,191)
8080 H$(8)=STRING$(2,143)+STRING$(1,191)+STRING$(1,143)+STRING$(1,191)

8090 T$(1)=CHR$(56):T$(2)="b":T$(3)="i":T$(4)="t":T$(5)=CHR$(42):T$(6)="r":T$(7)="p":T$(8)="g":

8100 A$(1)=STRING$(6,CHR$(191))
8110 A$(2)=STRING$(6,CHR$(128))
8120 A$(3)=CHR$(128)+CHR$(159)+CHR$(128)+CHR$(128)+CHR$(159)+CHR$(128)+CHR$(143)+CHR$(207)
8130 A$(4)=STRING$(6,CHR$(128))+CHR$(143)+CHR$(207)
8140 A$(5)=STRING$(6,CHR$(191))+CHR$(143)+CHR$(207)
8150 A$(6)=CHR$(143) + STRING$(4,CHR$(191))+CHR$(143)+CHR$(175)+CHR$(175)+CHR$(175)
8160 A$(7)=CHR$(143) + STRING$(5,CHR$(191))+CHR$(143)+CHR$(175)
8170 A$(8)=CHR$(143) + STRING$(4,CHR$(191))

8200 G$(1)=CHR$(143)+CHR$(143)+STRING$(4,128)
8210 G$(2)=CHR$(143)+STRING$(1,128)+STRING$(4,159)+STRING$(1,128)
8220 G$(3)=STRING$(1,128)+STRING$(6,159)+STRING$(1,128)
8230 G$(4)=CHR$(128)+CHR$(159)+CHR$(175)+CHR$(159)+CHR$(175)+CHR$(159)+CHR$(159)+CHR$(128)
8240 G$(5)=CHR$(128)+CHR$(159)+CHR$(207)+CHR$(159)+CHR$(207)+CHR$(159)+CHR$(159)+CHR$(128)
8250 G$(6)=STRING$(1,128)+STRING$(6,159)+STRING$(1,128)
8260 G$(7)=STRING$(1,128)+STRING$(6,159)+STRING$(1,128)
8270 G$(8)=CHR$(128)+CHR$(159)+CHR$(128)+CHR$(159)+CHR$(159)+CHR$(128)+CHR$(159)+CHR$(128)

8800 REM DUNGEON
8810 LW$=STRING$(32,CHR$(243)):TW$=STRING$(32,CHR$(252)):F$=CHR$(128):WA$=CHR$(159)

9999 RETURN
