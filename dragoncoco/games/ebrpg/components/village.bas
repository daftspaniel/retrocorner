30 CLS
40 TW$=STRING$(32,CHR$(252)):PX=3:PY=3:TV=143
50 PRINT@160,CHR$(223);
60 PRINT@176,CHR$(128);
80 GOSUB 2000:GOSUB 3000
90 GOSUB 1200


1000 A$=INKEY$:IFA$=""THEN 1000
1048 OY = PY : OX = PX
1050 IF A$ = CHR$(10) THEN PY = PY + 1 : GOSUB 1100 
1060 IF A$ = CHR$(94) THEN PY = PY - 1 : GOSUB 1100 
1070 IF A$ = CHR$(9) THEN PX = PX + 1 : GOSUB 1100 
1080 IF A$ = CHR$(8) THEN PX = PX - 1 : GOSUB 1100
1090 GOTO 1000
1100 IF PX<0 THEN PX=0 : RETURN
1110 IF PX>31 THEN PX=31 : RETURN 
1120 IF PY>10 THEN PY=10 : RETURN
1130 IF PY<0 THEN PY=0 : RETURN
1140 IF PX<0 THEN PX=0 : RETURN
1150 IF PX>31 THEN PX=31 : RETURN
1160 IF PY>10 THEN PY=10 : RETURN
1170 IF PY<0 THEN PY=0 : RETURN
1190 TU = ((PY+1) * 32) + PX + 1024:TV=PEEK(TU)
1191 IF TV=128 OR TV=191 THEN PX=OX:PY=OY:PU=143:RETURN

1200 POKE 1024+((OY+1) * 32) + OX,TV
1205 PRINT@((PY+1) * 32) + PX,"h";
1210 GOSUB 4000
1800 RETURN
1900 GOTO 1000

1999 END

2000 REM STATUS
2010 PRINT@416, CHR$(250)+"level:"+STR$(LE);
2020 PRINT@448, CHR$(250)+"hp   :"+STR$(HP)+"/"+STR$(MH);
2030 PRINT@480, CHR$(250)+"name : "+N$;
2040 PRINT@384, TW$;
2200 RETURN

2500 PRINT@((PY+1) * 32) + PX,"h";:SOUND255,1

3000 REM
3010 PRINT@(32*3)+2,STRING$(3,191);
3020 PRINT@(32*4)+2,CHR$(191) + CHR$(143) + CHR$(191);
3500 RETURN

4000 ST$=STRING$(16,143)
4010 IF PX=3 AND PY=3 THEN ST$="YOU ARE HOME."
4090 PRINT@432,ST$;
4500 RETURN
